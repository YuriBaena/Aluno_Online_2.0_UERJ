<div class="dashboard-wrapper">
  <header class="dashboard-header">
    <div class="welcome-text">
      <h2>Ol√°, {{usuario?.nome}}! üëã</h2>
      <p>Bem-vindo ao novo portal do aluno. Veja o que h√° de novo hoje.</p>
    </div>
    
    <div class="sync-action">
      <button class="btn-sync" (click)="abrirModalSync()">
        <i class="fa-solid fa-arrows-rotate"></i> Sincronizar Aluno Online
      </button>

      <div class="modal-overlay" *ngIf="exibirModalSync">
        <div class="modal-card">
          <header>
            <h3>Sincronizar Dados</h3>
            <button class="close-btn" (click)="fecharModalSync()" [disabled]="loadingSync">√ó</button>
          </header>

          <div class="modal-body">
            <p class="instruction">
              Insira suas credenciais do <strong>Portal Antigo</strong> para importar suas mat√©rias.
            </p>
            
            <div class="input-group">
              <label>Matr√≠cula</label>
              <input type="text" [(ngModel)]="syncData.matricula" [disabled]="loadingSync" placeholder="000000000">
            </div>

            <div class="input-group">
              <label>Senha do Portal</label>
              <input type="password" [(ngModel)]="syncData.senha" [disabled]="loadingSync" placeholder="******">
            </div>

            <div class="warning-box" *ngIf="!loadingSync">
              <i class="fa-solid fa-triangle-exclamation"></i>
              <div class="warning-text">
                <strong>Aviso de Seguran√ßa:</strong>
                <p>
                  Ao prosseguir, voc√™ autoriza o sistema a realizar um acesso automatizado ao seu portal. 
                  N√£o armazenamos sua senha.
                </p>
              </div>
            </div>

            <div class="loading-state" *ngIf="loadingSync">
              <div class="loader-content">
                <i class="fa-solid fa-circle-notch fa-spin"></i>
                <div class="loader-text">
                  <strong>Sincroniza√ß√£o em andamento...</strong>
                  <p>Isso pode levar de 1 a 7 minutos. Por favor, n√£o feche esta janela ou recarregue a p√°gina.</p>
                </div>
              </div>
              
              <div class="progress-bar-container">
                <div class="progress-bar-fill"></div>
              </div>
            </div>
          </div>

          <footer>
            <button class="btn-cancel" [disabled]="loadingSync" (click)="fecharModalSync()">Cancelar</button>
            <button class="btn-confirm" [disabled]="loadingSync" (click)="confirmarSincronizacao()">
              <i class="fa-solid fa-spinner fa-spin" *ngIf="loadingSync"></i>
              {{ loadingSync ? 'Sincronizando...' : 'Confirmar Importa√ß√£o' }}
            </button>
          </footer>
        </div>
      </div>
      
      <small *ngIf="ultimaSincronizacao">√öltima vez: {{ ultimaSincronizacao }}</small>
    </div>
  </header>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="icon-box blue"><i class="fa-solid fa-ranking-star"></i></div>
      <div class="info">
        <span>CR Geral</span>
        <h3>8.4</h3>
      </div>
    </div>
    <div class="stat-card">
      <div class="icon-box green"><i class="fa-solid fa-book"></i></div>
      <div class="info">
        <span>Disciplinas Ativas</span>
        <h3>6</h3>
      </div>
    </div>
    <div class="stat-card">
      <div class="icon-box orange"><i class="fa-solid fa-clock"></i></div>
      <div class="info">
        <span>Horas AC</span>
        <h3>120/200</h3>
      </div>
    </div>
  </div>

  <section class="main-content">
    <div class="content-card">
      <h3>Grade Hor√°ria de Hoje</h3>
      <p class="empty-state">Nenhuma aula registrada para hoje. Aproveite para estudar!</p>
    </div>
  </section>
</div>